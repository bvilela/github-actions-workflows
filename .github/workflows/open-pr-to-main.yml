on:
  workflow_call:
    inputs:
      java-version:
        default: 11
        required: false
        type: number
      distribution:
        default: 'temurin'
        required: false
        type: string
      pom-path:
        description: Path to pom.xml file
        default: 'app/pom.xml'
        required: false
        type: string
      maven-settings-file:
        description: Path to maven-settings.xml file, if necessary
        default: null
        required: false
        type: string

jobs:
  open-pr-to-main:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
        with:
          fetch-depth: 0  # Shallow clones should be disabled for a better relevancy of analysis
          
      - name: Get Branch Name
        shell: bash
        run: echo "##[set-output name=branch;]$(echo ${GITHUB_REF#refs/heads/})"
        id: extract_branch

      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v5
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          title: '[Example] Simple demo'
          body: >
            This PR is auto-generated by 
            [create-pull-request](https://github.com/peter-evans/create-pull-request).
          commit-message: Simple demo
          branch: feature/teste
